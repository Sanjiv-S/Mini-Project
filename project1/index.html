<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Eye Disease Prediction AI</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/animations.css">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
  <header>
    <div class="container">
      <div class="logo">
        <i class="fas fa-eye"></i>
        <h1>EyeScan AI</h1>
      </div>
      <p class="tagline">Advanced Eye Disease Detection with AI</p>
    </div>
  </header>

  <main class="container">
    <section class="intro">
      <h2>Upload an eye scan for instant analysis</h2>
      <p>Our AI can detect common eye conditions including Diabetic Retinopathy, Glaucoma, and Cataracts using machine learning technology right in your browser.</p>
    </section>

    <section class="upload-section">
      <div id="drop-area">
        <form class="upload-form">
          <input type="file" id="file-input" accept="image/*" hidden>
          <label for="file-input" class="file-input-label">
            <div class="upload-icon">
              <i class="fas fa-cloud-upload-alt"></i>
            </div>
            <div class="upload-text">
              <strong>Choose an eye scan</strong> or drag it here
            </div>
          </label>
        </form>
        <div class="samples">
          <p>No image? Try one of our samples:</p>
          <div class="sample-images">
            <img src="normaleye.jpeg" alt="Normal eye" class="sample-img" data-sample="normal">
            <img src="diabetic retinopathy.jpg_h_250" alt="Diabetic Retinopathy" class="sample-img" data-sample="diabetic-retinopathy">
            <img src="glaucoma.jpeg" alt="Glaucoma" class="sample-img" data-sample="glaucoma">
            <img src="cataracts.jpeg" alt="Cataract" class="sample-img" data-sample="cataract">
          </div>
        </div>
      </div>
    </section>

    <section class="processing-section hidden" id="processing-section">
      <div class="processing-container">
        <div class="image-preview-container">
          <h3>Image Preview</h3>
          <div class="image-preview">
            <img id="preview-image" src="" alt="Eye scan preview">
          </div>
          <div class="preprocessing-info">
            <p>Image preprocessing: <span id="preprocessing-status">Pending</span></p>
          </div>
        </div>
        
        <div class="model-loading hidden" id="model-loading">
          <div class="loader"></div>
          <p>Loading AI model...</p>
        </div>

        <div class="analyzing hidden" id="analyzing">
          <div class="loader"></div>
          <p>Analyzing image...</p>
        </div>
      </div>
    </section>

    <section class="results-section hidden" id="results-section">
      <h2>Analysis Results</h2>
      <div class="results-container">
        <div class="diagnosis-card">
          <h3>Primary Diagnosis</h3>
          <div class="primary-diagnosis">
            <div class="diagnosis-name" id="primary-diagnosis-name">-</div>
            <div class="confidence">Confidence: <span id="primary-confidence">-</span></div>
          </div>
        </div>

        <div class="all-predictions">
          <h3>All Conditions</h3>
          <div class="prediction-bars" id="prediction-bars">
            <!-- Prediction bars will be added here by JavaScript -->
          </div>
        </div>

        <div class="condition-info" id="condition-info">
          <h3>About This Condition</h3>
          <div id="condition-description">
            Select a condition to see more information.
          </div>
        </div>
      </div>

      <div class="action-buttons">
        <button id="new-scan-btn" class="btn">Analyze Another Scan</button>
        <button id="download-report-btn" class="btn secondary">Download Report</button>
      </div>
    </section>

    <section class="disclaimer">
      <h3><i class="fas fa-exclamation-triangle"></i> Medical Disclaimer</h3>
      <p>This tool is for educational purposes only and is not intended to replace professional medical advice, diagnosis, or treatment. Always seek the advice of your physician or other qualified health provider with any questions you may have regarding a medical condition.</p>
    </section>
  </main>

  <footer>
    <div class="container">
      <p>&copy; 2025 EyeScan AI. This is a demo application for educational purposes.</p>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.12.0"></script>
  <script src="js/imageProcessor.js"></script>
  <script src="js/model.js"></script>
  <script src="js/ui.js"></script>
  <script src="js/app.js"></script>
</body>
</html>